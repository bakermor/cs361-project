{% extends "Base.html" %} {% block title %}Compare Players Page{% endblock %} {%
block content %}

<script type="text/JavaScript">
  var count = {{num_p}}

  function createNewInput() {
        var newInput = document.createElement('div');
        newInput.innerHTML = '<label for="pname">Enter Player Name:</label><br /><input type="text" id="pname" name="pname" /><br />';
        document.getElementById("playerInput").appendChild(newInput);
        count += 1
        if (count === 6){
            document.getElementById("new-input").hidden=true
        }
  }

</script>

<form action="/compare-players" method="POST">
  <div id="playerInput"></div>
  {% for player in p_names %} 
    <label for="pname">Enter Player Name:</label><br />
    <input type="text" id="pname" name="pname" value={{player}} /><br />
  {% endfor %}
  </div>

  <div id="new-input">
    <input type="button" value="+" onclick="createNewInput();" />
    <span>Add a player</span>
  </div>

  <input type="submit" value="Submit" />
</form>

<div>
    {% for i in range(num_p) %}
    <image src="{{url_for('static', filename=imgs[i])}}" title={{p_names[i]}} style="width:80px;height:80px;"/>
    {% endfor %}
</div>

<!-- <form action="/compare-players" method="POST">
    <select name="coins" value={{coins}}>
        <option value=0>Coins</option>
        <option value=1>Placements</option>
    </select>
    {% for i in range(num_p) %}
    <input type="hidden" name="pname" value="{{p_names[i]}}"/>
    {% endfor %}
    <input type="submit" value="Submit" />

</form> -->

<table>
    <thead>
        <tr>
            <th>Game</th>
            {% for i in range(num_p) %}
            <th>Average</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for g in games %}
        <tr>
            <td>{{g}}</td>
            {% for i in range(num_p) %}
            {% if data[p_names[i]][g] != null%}
            <td>{{data[p_names[i]][g][0]}}</td>
            {% else %}
            <td></td>
            {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}

    </tbody>
</table>

{% endblock %}
